"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(o,s){function c(e){try{a(r.next(e))}catch(e){s(e)}}function i(e){try{a(r.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}a((r=r.apply(e,t||[])).next())}))}function t(e,t){if(null==t?void 0:t.instance)return t.instance;if(e)return e;throw new Error("Request Instance not found")}function n(e,t){return"string"==typeof e?e:Reflect.get(e,t)||Reflect.get(e,"default")||""}function r(t,n){return function(...r){return e(this,void 0,void 0,(function*(){const{method:e,path:o}=n;if(!t[e])throw new Error(`Method ${e} not found`);return t[e](o,...r)}))}}function o(e,t){return`${t.namespace?n(e.namespaces||{},t.namespace):n(e.namespaces||{},"default")||""}${t.path}`}function s(e,t){return"string"==typeof e?{path:e,method:t.defaultMethod||"get",namespace:"default"}:e}function c(e,t,n){return s(Reflect.get(e,t),n)}function i(e,n,s={}){return new Proxy(e,{get(e,i){if(i in e){const a=c(e,i,s);return r(t(n,a),Object.assign(Object.assign({},a),{path:o(s,a),method:a.method||s.defaultMethod||"get"}))}throw new Error(`Service ${String(i)} not found`)},set(e,t,n,r){throw new Error(`Service ${String(t)} cannot be set`)},deleteProperty(e,t){throw new Error(`Service ${String(t)} cannot be deleted`)}})}Object.defineProperty(exports,"__esModule",{value:!0}),"function"==typeof SuppressedError&&SuppressedError;function a(e,n,s={}){return Object.keys(e).reduce(((i,a)=>{const u=c(e,a,s),f=t(n,u);return Reflect.defineProperty(i,a,{get:()=>r(f,Object.assign(Object.assign({},u),{path:o(s,u),method:(null==u?void 0:u.method)||(null==s?void 0:s.defaultMethod)||"get"})),configurable:!1,enumerable:!0,set(e){throw new Error(`Service ${String(e)} cannot be set`)}}),i}),{})}exports.LooseService=class{constructor(e,t={}){if(this.rootInstance=e,this.options=t,!e)throw new Error("Root Instance not found");this.createServices=this.createServices.bind(this)}createServices(e={}){return a(e,this.rootInstance,this.options)}},exports.ProxyService=class{constructor(e,t={}){if(this.rootInstance=e,this.options=t,!e)throw new Error("Root Instance not found");this.createServices=this.createServices.bind(this)}createServices(e={}){return i(e,this.rootInstance,this.options)}},exports.createDefaultServiceConfig=s,exports.createLooseProxy=a,exports.createProxy=i,exports.createRequestFunction=r,exports.getNamespacePath=n,exports.getRequestInstance=t,exports.getRequestPath=o,exports.safeServiceConfig=c;
//# sourceMappingURL=index.cjs.js.map
